{% extends 'layouts/with_nav.html' %}

{% block title %}{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block content %}
<div class="container">

    <h1>projects</h1>

    <table class="table table-striped table-bordered">
        <tr>
            <th scope="col">id</th>
            <th scope="col">project name</th>
            <th scope="col">owner</th>
            <th scope="col">created on</th>
            <th scope="col">modified on</th>
            <th scope="col" colspan="2">actions</th>
        </tr>
        {% for d in data %}
        <tr>
            <td>{{d.id}}</td>
            <td><a class="btn btn-link" href="{{ url_for('project.view', id=d.id) }}">{{d.name}}</a></td>
            <td>{{d.creator.name}}</td>
            <td>{{d.created_on}}</td>
            <td>{{d.updated_on}}</td>

            <td><a class="btn btn-link" href="{{ url_for('project.update', id=d.id )}}">modify</a></td>

            <td>
                <form action="{{ url_for('project.delete', id=d.id )}}" method='post'>
                    {% include "includes/csrf_token.html" %}
                    <button class="btn btn-link" type="submit">delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>

    <a href="{{ url_for('project.insert') }}">new project</a>

</div>
{% endblock %}
